<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Vitals History</title>
  <link rel="stylesheet" th:href="@{/css/sharedLayout.css}">
  <link rel="stylesheet" th:href="@{/css/vitalsHistoryPage.css}">
</head>

<body>
<div class="layout-container">
  <!-- Sidebar -->
  <aside th:replace="~{layouts/sharedLayout :: sidebar (activePage='vitals', appointmentId=${appointmentId})}"></aside>

  <!-- Main Content Area -->
  <div class="main-content">
    <!-- Top Navigation -->
    <header th:replace="components/top-navD :: top-nav('Patient Vitals')"></header>
    <!-- Patient Info Card -->
    <section th:replace="components/patientCard :: patientCard(${appointmentId})"></section>

    <!-- Vitals History Section -->
    <section class="vital-history">
      <div class="history-header">
        <div class="header-left">
          <button class="back-btn" onclick="history.back()">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M15 10H5M5 10L10 15M5 10L10 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round"/>
            </svg>
            Back
          </button>
          <h2>Vitals History</h2>
        </div>
      </div>

      <!-- Vitals Table -->
      <div class="vitals-table-wrapper">
        <table class="vitals-table">
          <thead>
          <tr>
            <th>Date Of Visit</th>
            <th>BP (mmHg)</th>
            <th>HR (bpm)</th>
            <th>Temp (°C)</th>
            <th>Weight (kg)</th>
            <th>Height (cm)</th>
            <th>BMI</th>
            <th>Glucose (mg/dl)</th>
            <th>O₂ Saturation (%)</th>
            <th>Recorded By</th>
          </tr>
          </thead>
          <tbody>
          <tr th:each="record : ${vitalsHistory}">
            <td th:text="${#temporals.format(record.date, 'dd-MM-yyyy')}">15 Jul 2025</td>
            <td th:text="${record.bp}">120/78</td>
            <td th:text="${record.heartRate}">82</td>
            <td th:text="${record.temperature}">37.1</td>
            <td th:text="${record.weight}">72</td>
            <td th:text="${record.height}">165</td>
            <td th:text="${record.bmi}">26.4</td>
            <td th:text="${record.glucose}">5.6</td>
            <td th:text="${record.o2Saturation}">97</td>
            <td th:text="${record.nurseName}">Dr. Sarah Moyo</td>
          </tr>

          <tr th:if="${#lists.isEmpty(vitalsHistory)}">
            <td colspan="10" class="text-center">No vitals history available.</td>
          </tr>
          </tbody>
        </table>
      </div>
    </section>
  </div>
  <!-- Scripts -->
  <script th:src="@{/js/sharedLayout.js}"></script>
</body>
</html>
